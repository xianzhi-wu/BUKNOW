<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="email=no">
<meta name="apple-mobile-web-app-title" content="">
<meta name="Keywords" content=""/>
<meta name="Description" content=""/>
<title>登录</title>
<link rel="stylesheet" type="text/css" href="css/mobile-bn-global.css"/>
</head>

<body>
  <header class="header box-layout">
    <a href="javascript:history.go(-1)" class="back">返回</a>
    <div class="header-title box-col">会员登录</div>
    <a href="#" class="header-text">注册</a>
  </header>
  
  <div class="main">
    <form action="post">
      <div class="input-wrapper">
        <div class="input-line box-layout"><i class="icon-login forName"></i><div class="box-col"><input type="text" id="username" class="info-input" placeholder="用户名/邮箱"></div></div>
        <div class="input-line box-layout"><i class="icon-login forPassword"></i><div class="box-col"><input type="text" id="password" class="info-input" placeholder="密码"></div></div>
      </div>
      <div class="login-tips">密码错误</div>
      <a class="login-btn" id="signin-btn">登录</a>
      <a href="#" class="forget-password">忘记密码？</a>
      <div class="login-success">登录成功</div>
    </form>
    
  </div>
  <script src="js/zepto.min.js"></script>
  <script>
      $(function () {
		  function checkUserName() {
			  var value = $("#username").val();
			  var length = strlen(value);
			  if (value == '' || value.length == 0) {
				  $(".login-tips").text("请输入用户名/邮箱").css("visibility", "visible");
				  return false;
			  } else if (length < 4 || length > 25) {
				  $(".login-tips").text("用户名长度为4~25个字符，一个中文2个字符").css("visibility", "visible");
				  return false;
			  } else {
				  $(".login-tips").css("visibility", "hidden");
			  }
			  return true;
		  }
		  function checkPassword() {
			  var value = $("#password").val();
			  if (value == '' || value.length == 0) {
				  $(".login-tips").text("请输入密码").css("visibility", "visible");
				  return false;
			  } else if (value.length < 6) {
				  $(".login-tips").text("密码至少6个字符").css("visibility", "visible");
				  return false;
			  } else {
				  $(".login-tips").css("visibility", "hidden");
			  }
			  return true;
		  }
	  
		  function strlen(value) {
			  var len = 0;
			  for (i = 0; i < value.length; i++) {
				  var char = value.charCodeAt(i);
				  if ((char >= 0x0001 && char <= 0x007e) || (0xff60 <= char && char <= 0xff9f)) {
					  len++;
				  }
				  else {
					  len += 2;
				  }
			  }
			  return len;
		  }
	  
		  $("#username").on('blur', function () {
			  checkUserName();
		  });
	  
		  $("#password").on('blur', function () {
			  checkPassword();
		  });
	  
		  $("#signin-btn").click(function () {
			  if (checkUserName() && checkPassword()) {
				  //登录成功
				   $(".login-success").show();
                    setTimeout(function () {
						location.href = "http://www.baidu.com";
					}, 1500);
			  }
		  });
	  });
  </script>
</body>
</html>